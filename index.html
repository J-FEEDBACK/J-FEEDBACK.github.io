<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Bootstrap demo</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
        <!-- Swiper CSS -->
        <link rel="stylesheet" href="css/swiper-bundle.min.css">

        <!-- CSS -->
        <link rel="stylesheet" href="css/style.css">

        <!-- CSS SLIDER -->
        <link rel="stylesheet" href="css/style-slider.css">
        <script>!function(e){"undefined"==typeof module?this.charming=e:module.exports=e}(function(e,n){"use strict";n=n||{};var t=n.tagName||"span",o=null!=n.classPrefix?n.classPrefix:"char",r=1,a=function(e){for(var n=e.parentNode,a=e.nodeValue,c=a.length,l=-1;++l<c;){var d=document.createElement(t);o&&(d.className=o+r,r++),d.appendChild(document.createTextNode(a[l])),n.insertBefore(d,e)}n.removeChild(e)};return function c(e){for(var n=[].slice.call(e.childNodes),t=n.length,o=-1;++o<t;)c(n[o]);e.nodeType===Node.TEXT_NODE&&a(e)}(e),e});
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.1/js/swiper.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
    </head>
    <style>
        .swiper-container {
            overflow: hidden;
        }
        
        .inline {
            display: inline-block;
            font-size: 14px;
        }
    </style>
    <body>
        <div class="container mt-2">
            <!-- Row 1 -->
            <div class="row justify-content-between align-items-center">
                <div class="col-5">
                    <!-- Gambar Logo -->
                    <img src="logo.png" alt="Logo" class="img-fluid">
                </div>
                <div class="col-7 text-end">
                    <!-- Tanggal -->
                    <p>
                        <span id="date" class="inline"></span>
                        <span class="badge text-bg-secondary inline" id="clock"></span>
                    </p>
                </div>
            </div>
    
            <!-- Row 2 -->
            <!-- <div class="row mt-3">
                <div class="col-12 text-center">
                    <button type="button" class="btn btn-danger btn-block">CABANG SYARIAH SIDOARJO</button>
                </div>
            </div> -->
            <div class="row mt-3" style="background-color: #D4393E; color: white; text-align: center;">
                <div class="col-12">
                    <p class="pt-3"><b>CABANG SYARIAH SIDOARJO</b></p>
                </div>
            </div>

            <div class="row justify-content-center mt-3">
                <div class="swiper-container slideshow">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide slide">
                            <div class="slide-image" style="background-image: url(https://images.unsplash.com/photo-1538083024336-555cf8943ddc?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=66b476a51b19889e13182c0e4827af18&auto=format&fit=crop&w=1950&q=80)"></div>
                            <span class="slide-title">Exotic places</span>
                        </div>
                        <div class="swiper-slide slide">
                            <div class="slide-image" style="background-image: url(https://images.unsplash.com/photo-1500375592092-40eb2168fd21?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=e07d2457879a4e15577ec75a31023e47&auto=format&fit=crop&w=2134&q=80)"></div>
                            <span class="slide-title">Meet ocean</span>
                        </div>
                        <div class="swiper-slide slide">
                            <div class="slide-image" style="background-image: url(https://images.unsplash.com/photo-1482059470115-0aadd6bf6834?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=267bba9a4e280ec64388fe8fb01e9d1b&auto=format&fit=crop&w=1950&q=80)"></div>
                            <span class="slide-title">Around the world</span>
                        </div>
                    </div>
                    <div class="slideshow-pagination"></div>
                    <div class="slideshow-navigation">
                        <div class="slideshow-navigation-button prev"><span class="fas fa-chevron-left"></span></div>
                        <div class="slideshow-navigation-button next"><span class="fas fa-chevron-right"></span></div>
                    </div>
                </div>
            </div>

            <!-- Row 3 -->
            <div class="row mt-3">
                <div class="col">
                    <p>Bergabunglah dengan kami dalam menciptakan pelayanan yang lebih baik.</p>
                    <p>Ceritakan pengalaman Anda hari ini terhadap petugas dan layanan kami.</p>
                </div>
            </div>
    
            <!-- Row 4 -->
            <div class="row justify-content-center mt-3">
                <!-- Card 1 -->
                <div class="col-md-2 mb-3 d-flex justify-content-center">
                    <div class="card text-center" style="width: 18rem;">
                        <img src="assets/cs.jpeg" class="card-img-top" alt="...">
                        <div class="card-body d-flex justify-content-center align-items-center">
                            <a href="cs1.html" class="btn btn-outline-secondary">Service Assistant</a>
                        </div>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="col-md-2 mb-3 d-flex justify-content-center">
                    <div class="card text-center" style="width: 18rem;">
                        <img src="assets/teller.jpeg" class="card-img-top" alt="...">
                        <div class="card-body d-flex justify-content-center align-items-center">
                            <a href="teller1.html" class="btn btn-outline-secondary">Teller</a>
                        </div>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="col-md-2 mb-3 d-flex justify-content-center">
                    <div class="card text-center" style="width: 18rem;">
                        <img src="assets/satpam.jpeg" class="card-img-top" alt="...">
                        <div class="card-body d-flex justify-content-center align-items-center">
                            <a href="satpam1.html" class="btn btn-outline-secondary">Satpam</a>
                        </div>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="col-md-2 mb-3 d-flex justify-content-center">
                    <div class="card text-center" style="width: 18rem;">
                        <img src="assets/fasilitas.jpeg" class="card-img-top" alt="...">
                        <div class="card-body d-flex justify-content-center align-items-center">
                            <a href="fasilitas1.html" class="btn btn-outline-secondary">Fasilitas</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            function updateClock() {
                var now = new Date();
                var hours = now.getHours();
                var minutes = now.getMinutes();
                var seconds = now.getSeconds();
                var timeString = hours + ':' + minutes + ':' + seconds;
                document.getElementById('clock').innerHTML = timeString;
            }
    
            setInterval(updateClock, 1000);

            var days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
            var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
            var today = new Date();

            var day = days[today.getDay()];
            var date = today.getDate();
            var month = months[today.getMonth()];
            var year = today.getFullYear();

            var formattedDate = day + ', ' + date + ' ' + month + ' ' + year;
            document.getElementById('date').textContent = formattedDate;
        </script>
        <!-- Swiper JS -->
        <script src="js/swiper-bundle.min.js"></script>

        <!-- JavaScript -->
        <script src="js/script.js"></script>

        <script>
            // The Slideshow class.
            class Slideshow {
                constructor(el) {
                    this.DOM = {el: el};
                    this.config = {
                        slideshow: {
                        delay: 3000,
                        pagination: {
                            duration: 3,
                        }
                        }
                    };

                    // Set the slideshow
                    this.init();
                }
                init() {
                    var self = this;

                    // Charmed title
                    this.DOM.slideTitle = this.DOM.el.querySelectorAll('.slide-title');
                    this.DOM.slideTitle.forEach((slideTitle) => {
                        charming(slideTitle);
                    });

                    // Set the slider
                    this.slideshow = new Swiper (this.DOM.el, {
                        loop: true,
                        autoplay: {
                            delay: this.config.slideshow.delay,
                            disableOnInteraction: false,
                        },
                        speed: 500,
                        preloadImages: true,
                        updateOnImagesReady: true,
                        // lazy: true,
                        // preloadImages: false,
                        pagination: {
                            el: '.slideshow-pagination',
                            clickable: true,
                            bulletClass: 'slideshow-pagination-item',
                            bulletActiveClass: 'active',
                            clickableClass: 'slideshow-pagination-clickable',
                            modifierClass: 'slideshow-pagination-',
                            renderBullet: function (index, className) {
                                var slideIndex = index, number = (index <= 8) ? '0' + (slideIndex + 1) : (slideIndex + 1);
                                var paginationItem = '<span class="slideshow-pagination-item">';
                                paginationItem += '<span class="pagination-number">' + number + '</span>';
                                paginationItem = (index <= 8) ? paginationItem + '<span class="pagination-separator"><span class="pagination-separator-loader"></span></span>' : paginationItem;
                                paginationItem += '</span>';
                                return paginationItem;
                            },
                        },

                        // Navigation arrows
                        navigation: {
                            nextEl: '.slideshow-navigation-button.next',
                            prevEl: '.slideshow-navigation-button.prev',
                        },

                        // And if we need scrollbar
                        scrollbar: {
                            el: '.swiper-scrollbar',
                        },
                        on: {
                            init: function() {
                                self.animate('next');
                            },
                        }
                    });
                
                    // Init/Bind events.
                    this.initEvents();
                }
                initEvents() {
                    this.slideshow.on('paginationUpdate', (swiper, paginationEl) => this.animatePagination(swiper, paginationEl));
                    //this.slideshow.on('paginationRender', (swiper, paginationEl) => this.animatePagination());
                    this.slideshow.on('slideNextTransitionStart', () => this.animate('next'));
                    this.slideshow.on('slidePrevTransitionStart', () => this.animate('prev'));
                        
                }
                animate(direction = 'next') {
                    
                    // Get the active slide
                    this.DOM.activeSlide = this.DOM.el.querySelector('.swiper-slide-active'),
                    this.DOM.activeSlideImg = this.DOM.activeSlide.querySelector('.slide-image'),
                    this.DOM.activeSlideTitle = this.DOM.activeSlide.querySelector('.slide-title'),
                    this.DOM.activeSlideTitleLetters = this.DOM.activeSlideTitle.querySelectorAll('span');
                    
                    // Reverse if prev  
                    this.DOM.activeSlideTitleLetters = direction === "next" ? this.DOM.activeSlideTitleLetters : [].slice.call(this.DOM.activeSlideTitleLetters).reverse();
                    
                    // Get old slide
                    this.DOM.oldSlide = direction === "next" ? this.DOM.el.querySelector('.swiper-slide-prev') : this.DOM.el.querySelector('.swiper-slide-next');
                    if (this.DOM.oldSlide) {
                        // Get parts
                        this.DOM.oldSlideTitle = this.DOM.oldSlide.querySelector('.slide-title'),
                        this.DOM.oldSlideTitleLetters = this.DOM.oldSlideTitle.querySelectorAll('span'); 
                        // Animate
                        this.DOM.oldSlideTitleLetters.forEach((letter,pos) => {
                        TweenMax.to(letter, .3, {
                            ease: Quart.easeIn,
                            delay: (this.DOM.oldSlideTitleLetters.length-pos-1)*.04,
                            y: '50%',
                            opacity: 0
                        });
                        });
                    }
                    
                    // Animate title
                    this.DOM.activeSlideTitleLetters.forEach((letter,pos) => {
                                TweenMax.to(letter, .6, {
                                    ease: Back.easeOut,
                                    delay: pos*.05,
                                    startAt: {y: '50%', opacity: 0},
                                    y: '0%',
                                    opacity: 1
                                });
                            });
                    
                    // Animate background
                    TweenMax.to(this.DOM.activeSlideImg, 1.5, {
                        ease: Expo.easeOut,
                        startAt: {x: direction === 'next' ? 200 : -200},
                        x: 0,
                    });
                    
                    //this.animatePagination()
                
                }
                animatePagination(swiper, paginationEl) {
                        
                    // Animate pagination
                    this.DOM.paginationItemsLoader = paginationEl.querySelectorAll('.pagination-separator-loader');
                    this.DOM.activePaginationItem = paginationEl.querySelector('.slideshow-pagination-item.active');
                    this.DOM.activePaginationItemLoader = this.DOM.activePaginationItem.querySelector('.pagination-separator-loader');
                    
                    console.log(swiper.pagination);
                    // console.log(swiper.activeIndex);
                    
                    // Reset and animate
                    TweenMax.set(this.DOM.paginationItemsLoader, {scaleX: 0});
                    TweenMax.to(this.DOM.activePaginationItemLoader, this.config.slideshow.pagination.duration, {
                        startAt: {scaleX: 0},
                        scaleX: 1,
                    });
                    
                    
                }
            
            }
        
            const slideshow = new Slideshow(document.querySelector('.slideshow'));
        
        </script>
    </body>
</html>
